{"ast":null,"code":"import _slicedToArray from \"/Users/awidjaja/Codesmith/stackgen/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useState, useRef, useEffect } from 'react';\n\nfunction useDebouncedValue(value, wait) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    leading: false\n  };\n\n  var _useState = useState(value),\n      _useState2 = _slicedToArray(_useState, 2),\n      _value = _useState2[0],\n      setValue = _useState2[1];\n\n  var mountedRef = useRef(false);\n  var timeoutRef = useRef(null);\n  var cooldownRef = useRef(false);\n\n  var cancel = function cancel() {\n    return window.clearTimeout(timeoutRef.current);\n  };\n\n  useEffect(function () {\n    if (mountedRef.current) {\n      if (!cooldownRef.current && options.leading) {\n        cooldownRef.current = true;\n        setValue(value);\n      } else {\n        cancel();\n        timeoutRef.current = window.setTimeout(function () {\n          cooldownRef.current = false;\n          setValue(value);\n        }, wait);\n      }\n    }\n  }, [value, options.leading]);\n  useEffect(function () {\n    mountedRef.current = true;\n    return cancel;\n  }, []);\n  return [_value, cancel];\n}\n\nexport { useDebouncedValue };","map":{"version":3,"mappings":";;;AACO,SAASA,iBAAT,CAA2BC,KAA3B,EAAkCC,IAAlC,EAAsE;EAAA,IAA9BC,OAA8B,uEAApB;IAAEC,OAAO,EAAE;EAAX,CAAoB;;EAC3E,gBAA2BC,QAAQ,CAACJ,KAAD,CAAnC;EAAA;EAAA,IAAOK,MAAP;EAAA,IAAeC,QAAf;;EACA,IAAMC,UAAU,GAAGC,MAAM,CAAC,KAAD,CAAzB;EACA,IAAMC,UAAU,GAAGD,MAAM,CAAC,IAAD,CAAzB;EACA,IAAME,WAAW,GAAGF,MAAM,CAAC,KAAD,CAA1B;;EACA,IAAMG,MAAM,GAAG,SAATA,MAAS;IAAA,OAAMC,MAAM,CAACC,YAAP,CAAoBJ,UAAU,CAACK,OAA/B,CAAN;EAAA,CAAf;;EACAC,SAAS,CAAC,YAAM;IACd,IAAIR,UAAU,CAACO,OAAf,EAAwB;MACtB,IAAI,CAACJ,WAAW,CAACI,OAAb,IAAwBZ,OAAO,CAACC,OAApC,EAA6C;QAC3CO,WAAW,CAACI,OAAZ,GAAsB,IAAtB;QACAR,QAAQ,CAACN,KAAD,CAAR;MACD,CAHD,MAGO;QACLW,MAAM;QACNF,UAAU,CAACK,OAAX,GAAqBF,MAAM,CAACI,UAAP,CAAkB,YAAM;UAC3CN,WAAW,CAACI,OAAZ,GAAsB,KAAtB;UACAR,QAAQ,CAACN,KAAD,CAAR;QACD,CAHoB,EAGlBC,IAHkB,CAArB;MAID;IACF;EACF,CAbQ,EAaN,CAACD,KAAD,EAAQE,OAAO,CAACC,OAAhB,CAbM,CAAT;EAcAY,SAAS,CAAC,YAAM;IACdR,UAAU,CAACO,OAAX,GAAqB,IAArB;IACA,OAAOH,MAAP;EACD,CAHQ,EAGN,EAHM,CAAT;EAIA,OAAO,CAACN,MAAD,EAASM,MAAT,CAAP;AACF","names":["useDebouncedValue","value","wait","options","leading","useState","_value","setValue","mountedRef","useRef","timeoutRef","cooldownRef","cancel","window","clearTimeout","current","useEffect","setTimeout"],"sources":["/Users/awidjaja/Codesmith/stackgen/node_modules/@mantine/hooks/src/use-debounced-value/use-debounced-value.ts"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\n\nexport function useDebouncedValue<T = any>(value: T, wait: number, options = { leading: false }) {\n  const [_value, setValue] = useState(value);\n  const mountedRef = useRef(false);\n  const timeoutRef = useRef<number>(null);\n  const cooldownRef = useRef(false);\n\n  const cancel = () => window.clearTimeout(timeoutRef.current);\n\n  useEffect(() => {\n    if (mountedRef.current) {\n      if (!cooldownRef.current && options.leading) {\n        cooldownRef.current = true;\n        setValue(value);\n      } else {\n        cancel();\n        timeoutRef.current = window.setTimeout(() => {\n          cooldownRef.current = false;\n          setValue(value);\n        }, wait);\n      }\n    }\n  }, [value, options.leading]);\n\n  useEffect(() => {\n    mountedRef.current = true;\n    return cancel;\n  }, []);\n\n  return [_value, cancel] as const;\n}\n"]},"metadata":{},"sourceType":"module"}